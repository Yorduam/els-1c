
&НаКлиенте
Процедура АбитуриентыФИОПриИзменении(Элемент)
	Строка = Элементы.Абитуриенты.ТекущиеДанные;
	Строка.СтараяГруппа = ЗаполнитьДанныеДокумента(Объект.Дата, Строка.ФИО);
	
	Если ПустаяСтрока(Строка.СтараяГруппа) Тогда
		Сообщить("Студент не состоит в группе!");
		Строка.ФИО = Неопределено;
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Функция ЗаполнитьДанныеДокумента(АктуальнаяДата, Элемент)
	Отбор = Новый Структура("Обучающийся", Элемент);
	
	ЗначениеРесурса = РегистрыСведений.АктуальностьКонтингента.ПолучитьПоследнее(АктуальнаяДата, Отбор);
	Возврат ЗначениеРесурса.Группа;
КонецФункции

&НаКлиенте
Процедура АбитуриентыНоваяГруппаПриИзменении(Элемент)
	Строка = Элементы.Абитуриенты.ТекущиеДанные;
	Если Строка.СтараяГруппа = Строка.НоваяГруппа Тогда
		Сообщить("Студент не может быть переведен в эту же группу!");
		Строка.НоваяГруппа = Неопределено;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ПередЗаписью(Отказ, ПараметрыЗаписи)
	Если Объект.Абитуриенты = 0 Тогда
		Сообщить("Необходимо добавить минимум одного обучающегося!");
		Отказ = Истина;
	КонецЕсли;
КонецПроцедуры
